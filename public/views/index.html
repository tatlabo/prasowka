{{ block "index" . }}
{{ template "header" .Title }}

{{ template "table-headers" . }}

{{ if .List }}
<ol id="list" class="file-list" type="1">
    {{ range .List }}
    {{ template "list-item" . }}
    {{ end }}
</ol>
{{ end }}

<dialog id="modal">
  <h1>Welcome!</h1>
  <p>Click Close or press esc to close modal</p>
  <form method="dialog">
    <button>Close</button>
  </form>
</dialog>

<article class="preview-wrapper" id="preview-section" style="display: none;">
    <section class="preview">
    <button type="button" class="primary close-btn" id="hidePreview" onClick="deletePreview()">x</button>
    <div id="preview"></div>
    </section>
</article>

{{ template "footer" . }}
{{ end }}

</body>

</html>

{{ define "list-item" }}
<li class="item-list" data-name="{{ .Title }}" data-moddate="{{ .CreatedAt }}">

    <a href="/news/{{ .Id }}" hx-boost="true" hx-target="#preview" hx-swap="innerHTML" hx-get="/news/{{ .Id }}" hx-trigger="click" onClick="showPreview()" class="preview-link">
        {{ .Title }}
    </a>
    
    <span>
        {{ if .Done }}v{{ else }}â€”{{ end }}
    </span>
    
    <time datetime="{{ .CreatedAt }}">
        {{ .CreatedAt | formatDate }}
    </time>
    
    <a href="{{ .URL }}">
        {{ .Id }}
    </a>

</li>
{{ end }}

{{ define "table-headers" }}

<ul id="list-headers" class="file-list headers">
    <li>
        <span id="sort-name" data-sort-type="name" data-ascending="true">
            nazwa
        </span>
    </li>

    <li>
        <span id="sort-size" data-sort-type="size" data-ascending="true">
            kategoria
        </span>
    </li>
    <li>
        <span id="sort-date" data-sort-type="moddate" data-ascending="true">
            data
        </span>
    </li>
</ul>
{{ end }}

{{ block "footer" . }}
{{ end }}